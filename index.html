<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>Persona Fusion Table</title>
	<link href="res/css/style.css" rel="stylesheet"/>
	<link href="res/css/nogame.css" rel="stylesheet" id="gameStylesheet"/>
	<link href="res/css/dynamic.css" rel="stylesheet" id="dynamicStylesheet"/>
</head>
<body>
	<header>
		<h1>Interactive Persona Fusion Table</h1>
		<nav>
			<label for="optionGameSelect">Game Selection:</label>
			<select id="optionGameSelect">
			</select>
		</nav>
	</header>
	<main>
		<nav>
			<h2>Choose a Persona game!</h2>
			<ul id="fancyGameSelect">
			</ul>
		</nav>
		<noscript>
			<h2>JavaScript is disabled</h2>
			<p>This page cannot function without JavaScript. Please enable it and try again.</p>
		</noscript>
		<article>
			<h2 id="gameTitle"></h2>
		<section class="table">
			<table id="contentTable">

			</table>
			
		</section>
		<section class="extra">
			<section>
				<h3>Options</h3>
				<p><select id="optionHighlightMatchesManual">
				<option value="" selected>Off</option>
				</select>
				<label for="optionHighlightMatchesManual">Highlight all matches of specified arcana</label></p>
				<p><input type="checkbox" id="optionHighlightMatchesAuto" name="optionHighlightMatchesAuto">
				<label for="optionHighlightMatchesAuto">Highlight all matches of arcana on mouseover</label></p>
				<p><input type="checkbox" id="optionHighlightSameColAndRow" name="optionHighlightSameColAndRow" checked>
				<label for="optionHighlightSameColAndRow">Highlight columns and rows on mouseover</label></p>
				<p class="triangleinfo"><input type="checkbox" id="optionHighlightTriangleMatches" name="optionHighlightTriangleMatches" checked>
				<label for="optionHighlightTriangleMatches">Highlight triangle spread possibilities on mouseover</label></p>
				<p class="triangleinfo"><input type="checkbox" id="optionHideTriangleData" name="optionHideTriangleData">
				<label for="optionHideTriangleData">Omit triangle spread fusion information (like in the official manuals)</label></p>
			</section>
			<section>
				<h3>How to Use</h3>
				<p>Clicking the table freezes all mouseover effects in place until the table is clicked again.</p>
				<p>Green table cells contain the results of normal-spread fusions.</p>
				<p class="triangleinfo">Blue table cells contain the results of triangle-spread fusions.</p>
				<p>Red table cells contain the results of fusing personas of the same arcana.</p>
			</section>
			<section>
				<h3>How Normal Fusion Works</h3>
				<p>Normal fusion combines two personas into one.</p>
				<p>The arcana of the resulting persona depends on the arcanas of the fusion ingredients.</p>
				<p>If you combine two personas of the same arcana, the result will have the same arcana.</p>
				<p>If you combine two personas with differing arcanas, match the arcana of one persona with a row header on the table, and match the arcana of the other persona with a column header on the table, and find the resulting cell of the intersection between the chosen row and the chosen column.</p>
				<p>If this does not result in a green cell on the table, flip which arcana is used for the table row and arcana is used for the table column and try again.</p>
				<p>The resulting green cell will be the arcana of the new persona.</p>
				<p>The exact result of the fusion will depend on the average of the starting levels of the personas used: it will typically be whichever persona of the result arcana has the lowest starting level but is also still higher starting level than the average from the ingredients.</p>
				<p>Be warned that fusing two personas of the same arcana reverses this and instead results in whichever persona of the result arcana has the highest starting level but is also still lower starting level than the average from the ingredients.</p>
			</section>
			<section class="triangleinfo">
				<h3>How Triangle Fusion Works</h3>
				<p>To find the arcana result of a triangle fusion, first find which arcana you would get from fusing the two lowest-levelled personas of the three (with the green section of the table, like a normal-spread fusion). Take the resulting arcana and combine it with the arcana of the highest-levelled persona of the three in the blue section of the table. In the case of a level tie, the persona with a lower arcana (in the order used in the table headers) is treated as higher-levelled. (For instance, a persona of the Fool arcana is always treated as higher-levelled in the case of a tie.)</p>
			</section>
			<section>
				<h3>Credits</h3>
				<p>This web tool was written by Iain Passa.</p>
				<p>Its source is available <a href="https://github.com/IainPassa/web-persona-table">here</a>.</p>
				<p>Persona is &copy; ATLUS and &copy; SEGA.</p>
			</section>
		</section>
		</article>
	</main>
	<script src="script.js"></script>
</body>
</html>
